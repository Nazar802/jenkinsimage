jenkins:
  securityRealm:
    local:
      allowsSignup: false
      users:
        - id: ${JENKINS_ADMIN_ID}
          password: ${JENKINS_ADMIN_PASSWORD}

  authorizationStrategy:
    globalMatrix:
      permissions:
        - "Overall/Administer:${JENKINS_ADMIN_ID}"
        - "Overall/Read:authenticated"
  remotingSecurity:
    enabled: true
  
  globalNodeProperties:
  - envVars:
      env:
      - key: "ACR_ADDR"
        value: "${ACR_ADDR}"
      - key: "ACR_PASS"
        value: "${ACR_PASS}"
      - key: "ACR_UID"
        value: "${ACR_UID}"
      - key: "DATASOURCE_PASSWORD"
        value: "${DATASOURCE_PASSWORD}"
      - key: "DATASOURCE_URL"
        value: "${DATASOURCE_URL}"
      - key: "DATASOURCE_USER"
        value: "${DATASOURCE_USER}"
      - key: "JWT_SECRET"
        value: "${JWT_SECRET}"
      - key: "MY_PASSWORD"
        value: "${MY_PASSWORD}"
      - key: "SUBSCRIPTION_ID"
        value: "${SUBSCRIPTION_ID}"
      - key: "VMIP"
        value: "${VMIP}"
  
security:
  queueItemAuthenticator:
    authenticators:
      - global:
          strategy: triggeringUsersAuthorizationStrategy

credentials:
  system:
    domainCredentials:
      - credentials:
          - basicSSHUserPrivateKey:
              scope: GLOBAL
              id: ssh
              username: azureuser
              description: "SSH passphrase with private key file. Private key provided"
              privateKeySource:
                directEntry:
                  privateKey: "${readFile:${SSH_PRIVATE_FILE_PATH}}"

unclassified:
  location:
    url: "${JENKINS_RESERVE_URL}"
  
  throttleJobProperty:
    categories:
    - categoryName: "Lock"
      maxConcurrentPerNode: 1
      maxConcurrentTotal: 1
